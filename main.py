@namespace
class SpriteKind:
    coin = SpriteKind.create()

def on_a_pressed():
    if Lightbulb.vy == 0:
        Lightbulb.vy = -150
controller.A.on_event(ControllerButtonEvent.PRESSED, on_a_pressed)

def on_on_overlap(sprite, otherSprite):
    info.change_score_by(1)
    otherSprite.destroy()
sprites.on_overlap(SpriteKind.player, SpriteKind.coin, on_on_overlap)

def on_overlap_tile(sprite, location):
    game.over(True, effects.confetti)
scene.on_overlap_tile(SpriteKind.player, myTiles.tile7, on_overlap_tile)

def on_overlap_tile2(sprite, location):
    game.over(False, effects.melt)
scene.on_overlap_tile(SpriteKind.player, myTiles.tile5, on_overlap_tile2)

Coin: Sprite = None
Lightbulb: Sprite = None
scene.set_background_color(12)
Lightbulb = sprites.create(img("""
        ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ....................................dddddddd....................................
            ...................................d44445555d...................................
            ..................................d4555555555d..................................
            ..................................d4555555555d..................................
            ..................................d4555555555d..................................
            ..................................d455f555f55d..................................
            ..................................d4555555555d..................................
            ..................................d4555555555d..................................
            ..................................d45555ff555d..................................
            ..................................d4555555555d..................................
            ..................................d4555555555d..................................
            ...................................d45555555d...................................
            ....................................d444555d....................................
            .....................................dddddd.....................................
            ......................................bbbb......................................
            .....................................b9999b.....................................
            .....................................b9999b.....................................
            .....................................bbbbbb.....................................
            ......................................b..b......................................
            ......................................b..b......................................
            ......................................b..b......................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
    """),
    SpriteKind.player)
controller.move_sprite(Lightbulb, 100, 0)
tiles.set_tilemap(tilemap("""
    level
"""))
Lightbulb.ay = 200
scene.camera_follow_sprite(Lightbulb)
for value in tiles.get_tiles_by_type(myTiles.tile8):
    Coin = sprites.create(img("""
            . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 9 . . . . . . . 
                    . . . . . . . 9 8 9 . . . . . . 
                    . . . . . . 9 8 6 6 9 . . . . . 
                    . . . . . 9 8 6 6 6 6 9 . . . . 
                    . . . . 9 8 6 6 9 6 6 6 9 . . . 
                    . . . 9 8 8 6 9 9 9 6 6 6 9 . . 
                    . . . . 9 8 6 6 9 6 6 6 9 . . . 
                    . . . . . 9 8 6 6 6 6 9 . . . . 
                    . . . . . . 9 8 6 6 9 . . . . . 
                    . . . . . . . 9 8 9 . . . . . . 
                    . . . . . . . . 9 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . .
        """),
        SpriteKind.coin)
    animation.run_image_animation(Coin,
        [img("""
                . . . . . . . 9 . . . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . 9 6 6 6 6 6 6 6 6 6 6 6 9 . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . .
            """),
            img("""
                . . . . . . . . . . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . 9 6 6 6 6 6 6 6 6 6 6 6 9 . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . .
            """),
            img("""
                . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . 9 6 6 6 6 6 6 6 6 6 6 6 9 . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . . . . . . . . . . .
            """),
            img("""
                . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . 9 6 6 6 6 6 6 6 6 6 6 6 9 . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . . . 9 . . . . . . . .
            """),
            img("""
                . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . 9 6 6 6 6 6 6 6 6 6 6 6 9 . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . . . . . . . . . . .
            """),
            img("""
                . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . 9 6 6 6 6 6 6 6 6 6 6 6 9 . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . . . . . . . . . . .
            """),
            img("""
                . . . . . . . . . . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . 9 6 6 6 6 6 6 6 6 6 6 6 9 . . 
                        . . 9 6 6 6 6 6 6 6 6 6 9 . . . 
                        . . . 9 6 6 6 6 6 6 6 9 . . . . 
                        . . . . 9 6 6 6 6 6 9 . . . . . 
                        . . . . . 9 6 6 6 9 . . . . . . 
                        . . . . . . 9 6 9 . . . . . . . 
                        . . . . . . . 9 . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . .
            """)],
        200,
        True)
    tiles.place_on_tile(Coin, value)
    tiles.set_tile_at(value, myTiles.transparency16)